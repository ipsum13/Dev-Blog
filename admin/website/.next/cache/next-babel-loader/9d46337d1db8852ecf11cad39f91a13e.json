{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\Dev-Blog\\\\admin\\\\website\\\\pages\\\\blog\\\\edit-post\\\\[id].js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Head from \"next/head\";\nimport moment from \"moment\";\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport Header from \"../../../components/header.js\";\nimport Sidebar from \"../../../components/sidebar.js\";\nimport DeleteBlogPostModal from \"../../../components/modals/deleteBlogPost.js\";\nimport getBlogPostById from \"../../../api/blog-posts/getPostById.js\";\n\nif (typeof navigator !== \"undefined\") {\n  require(\"codemirror/mode/markdown/markdown\");\n}\n\nvar _default = /*#__PURE__*/function (_Component) {\n  _inherits(_default, _Component);\n\n  var _super = _createSuper(_default);\n\n  _createClass(_default, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n        var req, res, query, apiResult;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req, res = _ref.res, query = _ref.query;\n                _context.next = 3;\n                return getBlogPostById(query.id, req);\n\n              case 3:\n                apiResult = _context.sent;\n\n                if (!apiResult.authSuccess) {\n                  res.writeHead(302, {\n                    Location: \"/login\"\n                  });\n                  res.end();\n                }\n\n                return _context.abrupt(\"return\", {\n                  post: apiResult && apiResult.post,\n                  getDataError: apiResult && apiResult.getDataError,\n                  notFoundError: apiResult && apiResult.notFoundError\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTitleInputValue\", function (event) {\n      _this.setState({\n        titleInputValue: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateUrlTitleInputValue\", function (event) {\n      _this.setState({\n        urlTitleInputValue: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateDateInputValue\", function (event) {\n      _this.setState({\n        dateInputValue: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDateInputValueToNow\", function () {\n      var dateString = moment().format(\"YYYY-MM-DD\");\n      var timeString = moment().format(\"HH:mm\");\n\n      _this.setState({\n        dateInputValue: dateString + \"T\" + timeString\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateImageUrlInputValue\", function (event) {\n      _this.setState({\n        imageUrlInputValue: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTagsInputValue\", function (event) {\n      _this.setState({\n        tagsInputValue: event.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMarkdownInputValue\", function (value) {\n      _this.setState({\n        markdownInputValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSeoTitleTagInputValue\", function (event) {\n      var charLeft;\n\n      if (60 - event.target.value.length > 0) {\n        charLeft = 60 - event.target.value.length;\n      } else {\n        charLeft = 0;\n      }\n\n      _this.setState({\n        seoTitleTagInputValue: event.target.value,\n        seoTitleTagCharLeft: charLeft\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMetaDescriptionInputValue\", function (event) {\n      var charLeft;\n\n      if (160 - event.target.value.length > 0) {\n        charLeft = 160 - event.target.value.length;\n      } else {\n        charLeft = 0;\n      }\n\n      _this.setState({\n        metaDescriptionInputValue: event.target.value,\n        metaDescriptionCharLeft: charLeft\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submitEditPostRequest\", function () {\n      _this.setState({\n        submitLoading: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showDeleteModalRequest\", function () {\n      _this.setState({\n        showDeleteModal: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideDeleteModalRequest\", function () {\n      _this.setState({\n        deleteError: false,\n        deleteLoading: false,\n        showDeleteModal: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteBlogPostRequest\", function () {\n      _this.setState({\n        deleteLoading: true\n      });\n    });\n\n    var post = _this.props.post;\n    _this.state = {\n      submitLoading: false,\n      submitError: false,\n      errorMsg: \"\",\n      titleInputValue: post && post.title,\n      urlTitleInputValue: post && post.urlTitle,\n      dateInputValue: post && moment.unix(post.dateTimestamp).format(\"YYYY-MM-DD\") + \"T\" + moment.unix(post.dateTimestamp).format(\"HH:mm\"),\n      tagsInputValue: post && post.tags.join(\", \"),\n      imageUrlInputValue: post && post.thumbnailImageUrl,\n      markdownInputValue: post && post.markdownContent,\n      seoTitleTagInputValue: post && post.seoTitleTag,\n      seoTitleTagCharLeft: post && 60 - post.seoTitleTag.length,\n      metaDescriptionInputValue: post && post.seoMetaDescription,\n      metaDescriptionCharLeft: post && 160 - post.seoMetaDescription.length,\n      //delete modal\n      deleteError: false,\n      deleteLoading: false,\n      showDeleteModal: false\n    };\n    _this.codemirror = null;\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"layout-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Edit Post | Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n          page: \"blog-posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layout-content-container\",\n          children: !this.props.getDataError && !this.props.notFoundError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-blog-post-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-blog-post-header\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Edit Blog Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-blog-post-form-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.titleInputValue,\n                    onChange: this.updateTitleInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Url Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.urlTitleInputValue,\n                    onChange: this.updateUrlTitleInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"datetime-local\",\n                    value: this.state.dateInputValue,\n                    onChange: this.updateDateInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: function onClick() {\n                      return _this2.setDateInputValueToNow();\n                    },\n                    className: \"edit-blog-post-form-section-date-input-now\",\n                    children: \"Now\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Image URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.imageUrlInputValue,\n                    onChange: this.updateImageUrlInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Tags\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.tagsInputValue,\n                    onChange: this.updateTagsInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Markdown Content\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-code-content-input\",\n                  children: CodeMirror && /*#__PURE__*/_jsxDEV(CodeMirror, {\n                    className: \"edit-blog-post-form-section-codemirror\",\n                    editorDidMount: function editorDidMount(editor) {\n                      _this2.codemirror = editor;\n                    },\n                    value: this.state.markdownInputValue,\n                    onBeforeChange: function onBeforeChange(editor, data, value) {\n                      _this2.updateMarkdownInputValue(value);\n                    },\n                    onChange: function onChange(editor, data, value) {\n                      _this2.updateMarkdownInputValue(value);\n                    },\n                    options: {\n                      mode: \"markdown\",\n                      theme: \"dracula\",\n                      lineNumbers: true\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-seo-section-title\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"SEO\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Title Tag\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.seoTitleTagInputValue,\n                    onChange: this.updateSeoTitleTagInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: this.state.seoTitleTagCharLeft > 0 ? \"char-length green\" : \"char-length red\",\n                    children: this.state.seoTitleTagCharLeft\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Meta Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-section-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                    type: \"text\",\n                    value: this.state.metaDescriptionInputValue,\n                    onChange: this.updateMetaDescriptionInputValue\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: this.state.metaDescriptionCharLeft > 0 ? \"char-length green\" : \"char-length red\",\n                    children: this.state.metaDescriptionCharLeft\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-form-btns-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-blog-post-form-submit-btn-container\",\n                  children: !this.state.submitLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: this.submitEditPostRequest,\n                    className: \"edit-blog-post-form-btn\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"edit-blog-post-form-btn loading\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Loading\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: this.showDeleteModalRequest,\n                  className: \"edit-blog-post-form-delete\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), this.state.submitError ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-submit-error-msg\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: this.state.errorMsg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this) : null, this.state.submitSuccess ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"edit-blog-post-submit-success-msg\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Success!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-blog-post-get-data-error-msg\",\n            children: this.props.getDataError ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"An error occurred.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Blog post not found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DeleteBlogPostModal, {\n          error: this.state.deleteError,\n          loading: this.state.deleteLoading,\n          show: this.state.showDeleteModal,\n          hideRequest: this.hideDeleteModalRequest,\n          deleteBlogPostRequest: this.deleteBlogPostRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["F:/Dev-Blog/admin/website/pages/blog/edit-post/[id].js"],"names":["React","Component","Head","moment","Controlled","CodeMirror","Header","Sidebar","DeleteBlogPostModal","getBlogPostById","navigator","require","req","res","query","id","apiResult","authSuccess","writeHead","Location","end","post","getDataError","notFoundError","props","event","setState","titleInputValue","target","value","urlTitleInputValue","dateInputValue","dateString","format","timeString","imageUrlInputValue","tagsInputValue","markdownInputValue","charLeft","length","seoTitleTagInputValue","seoTitleTagCharLeft","metaDescriptionInputValue","metaDescriptionCharLeft","submitLoading","showDeleteModal","deleteError","deleteLoading","state","submitError","errorMsg","title","urlTitle","unix","dateTimestamp","tags","join","thumbnailImageUrl","markdownContent","seoTitleTag","seoMetaDescription","codemirror","updateTitleInputValue","updateUrlTitleInputValue","updateDateInputValue","setDateInputValueToNow","updateImageUrlInputValue","updateTagsInputValue","editor","data","updateMarkdownInputValue","mode","theme","lineNumbers","updateSeoTitleTagInputValue","updateMetaDescriptionInputValue","submitEditPostRequest","showDeleteModalRequest","submitSuccess","hideDeleteModalRequest","deleteBlogPostRequest"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport Head from \"next/head\"\r\nimport moment from \"moment\"\r\nimport { Controlled as CodeMirror } from \"react-codemirror2\"\r\n\r\nimport Header from \"../../../components/header.js\"\r\nimport Sidebar from \"../../../components/sidebar.js\"\r\nimport DeleteBlogPostModal from \"../../../components/modals/deleteBlogPost.js\"\r\n\r\nimport getBlogPostById from \"../../../api/blog-posts/getPostById.js\"\r\n\r\nif (typeof navigator !== \"undefined\") {\r\n  require(\"codemirror/mode/markdown/markdown\")\r\n}\r\n\r\nexport default class extends Component {\r\n  static async getInitialProps ({req, res, query}) {\r\n    const apiResult = await getBlogPostById(query.id, req)\r\n\r\n    if (!apiResult.authSuccess) {\r\n      res.writeHead(302, { Location: \"/login\" })\r\n      res.end()\r\n    }\r\n\r\n    return {\r\n      post: apiResult && apiResult.post,\r\n      getDataError: apiResult && apiResult.getDataError,\r\n      notFoundError: apiResult && apiResult.notFoundError\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const post = this.props.post\r\n\r\n    this.state = {\r\n      submitLoading: false,\r\n      submitError: false,\r\n      errorMsg: \"\",\r\n      titleInputValue: post && post.title,\r\n      urlTitleInputValue: post && post.urlTitle,\r\n      dateInputValue: post && moment.unix(post.dateTimestamp).format(\"YYYY-MM-DD\") + \"T\" + moment.unix(post.dateTimestamp).format(\"HH:mm\"),\r\n      tagsInputValue: post && post.tags.join(\", \"),\r\n      imageUrlInputValue: post && post.thumbnailImageUrl,\r\n      markdownInputValue: post && post.markdownContent,\r\n      seoTitleTagInputValue: post && post.seoTitleTag,\r\n      seoTitleTagCharLeft: post && 60 - post.seoTitleTag.length,\r\n      metaDescriptionInputValue: post && post.seoMetaDescription,\r\n      metaDescriptionCharLeft: post && 160 - post.seoMetaDescription.length,\r\n      //delete modal\r\n      deleteError: false,\r\n      deleteLoading: false,\r\n      showDeleteModal: false\r\n    }\r\n\r\n    this.codemirror = null\r\n  }\r\n\r\n  updateTitleInputValue = (event) => {\r\n    this.setState({titleInputValue: event.target.value})\r\n  }\r\n\r\n  updateUrlTitleInputValue = (event) => {\r\n    this.setState({urlTitleInputValue: event.target.value})\r\n  }\r\n\r\n  updateDateInputValue = (event) => {\r\n    this.setState({dateInputValue: event.target.value})\r\n  }\r\n\r\n  setDateInputValueToNow = () => {\r\n    const dateString = moment().format(\"YYYY-MM-DD\")\r\n    const timeString = moment().format(\"HH:mm\")\r\n    this.setState({dateInputValue: dateString + \"T\" + timeString})\r\n  }\r\n\r\n  updateImageUrlInputValue = (event) => {\r\n    this.setState({imageUrlInputValue: event.target.value})\r\n  }\r\n\r\n  updateTagsInputValue = (event) => {\r\n    this.setState({tagsInputValue: event.target.value})\r\n  }\r\n\r\n  updateMarkdownInputValue = (value) => {\r\n    this.setState({markdownInputValue: value})\r\n  }\r\n\r\n  updateSeoTitleTagInputValue = (event) => {\r\n    let charLeft\r\n    if (60 - event.target.value.length > 0) {\r\n      charLeft = 60 - event.target.value.length\r\n    } else {\r\n      charLeft = 0\r\n    }\r\n\r\n    this.setState({\r\n      seoTitleTagInputValue: event.target.value,\r\n      seoTitleTagCharLeft: charLeft\r\n    })\r\n  }\r\n\r\n  updateMetaDescriptionInputValue = (event) => {\r\n    let charLeft\r\n    if (160 - event.target.value.length > 0) {\r\n      charLeft = 160 - event.target.value.length\r\n    } else {\r\n      charLeft = 0\r\n    }\r\n\r\n    this.setState({\r\n      metaDescriptionInputValue: event.target.value,\r\n      metaDescriptionCharLeft: charLeft\r\n    })\r\n  }\r\n\r\n  submitEditPostRequest = () => {\r\n    this.setState({submitLoading: true})\r\n  }\r\n\r\n  showDeleteModalRequest = () => {\r\n    this.setState({showDeleteModal: true})\r\n  }\r\n\r\n  hideDeleteModalRequest = () => {\r\n    this.setState({deleteError: false, deleteLoading: false, showDeleteModal: false})\r\n  }\r\n\r\n  deleteBlogPostRequest = () => {\r\n    this.setState({deleteLoading: true})\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"layout-wrapper\">\r\n        <Head>\r\n          <title>Edit Post | Admin</title>\r\n        </Head>\r\n        <Header />\r\n        <Sidebar page=\"blog-posts\" />\r\n        <div className=\"layout-content-container\">\r\n          {\r\n            !this.props.getDataError && !this.props.notFoundError ?\r\n            <div className=\"edit-blog-post-content\">\r\n              <div className=\"edit-blog-post-header\">\r\n                <span>Edit Blog Post</span>\r\n              </div>\r\n              <div className=\"edit-blog-post-form-container\">\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Title</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={this.state.titleInputValue}\r\n                      onChange={this.updateTitleInputValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Url Title</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={this.state.urlTitleInputValue}\r\n                      onChange={this.updateUrlTitleInputValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Date</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={this.state.dateInputValue}\r\n                      onChange={this.updateDateInputValue}\r\n                    />\r\n                    <span onClick={() => this.setDateInputValueToNow()} className=\"edit-blog-post-form-section-date-input-now\">Now</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Image URL</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={this.state.imageUrlInputValue}\r\n                      onChange={this.updateImageUrlInputValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Tags</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={this.state.tagsInputValue}\r\n                      onChange={this.updateTagsInputValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Markdown Content</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-code-content-input\">\r\n                    {\r\n                      CodeMirror &&\r\n                      <CodeMirror\r\n                        className=\"edit-blog-post-form-section-codemirror\"\r\n                        editorDidMount={editor => {\r\n                          this.codemirror = editor;\r\n                        }}\r\n                        value={this.state.markdownInputValue}\r\n                        onBeforeChange={(editor, data, value) => {\r\n                          this.updateMarkdownInputValue(value)\r\n                        }}\r\n                        onChange={(editor, data, value) => {\r\n                          this.updateMarkdownInputValue(value)\r\n                        }}\r\n                        options={{\r\n                          mode: \"markdown\",\r\n                          theme: \"dracula\",\r\n                          lineNumbers: true\r\n                        }}\r\n                      />\r\n                    }\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-seo-section-title\">\r\n                  <span>SEO</span>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Title Tag</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={this.state.seoTitleTagInputValue}\r\n                      onChange={this.updateSeoTitleTagInputValue}\r\n                    />\r\n                    <span className={this.state.seoTitleTagCharLeft > 0 ? \"char-length green\" : \"char-length red\"}>{this.state.seoTitleTagCharLeft}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-section\">\r\n                  <div className=\"edit-blog-post-form-section-label\">\r\n                    <span>Meta Description</span>\r\n                  </div>\r\n                  <div className=\"edit-blog-post-form-section-input\">\r\n                    <textarea\r\n                      type=\"text\"\r\n                      value={this.state.metaDescriptionInputValue}\r\n                      onChange={this.updateMetaDescriptionInputValue}\r\n                    />\r\n                    <span className={this.state.metaDescriptionCharLeft > 0 ? \"char-length green\" : \"char-length red\"}>\r\n                      {this.state.metaDescriptionCharLeft}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-blog-post-form-btns-section\">\r\n                  <div className=\"edit-blog-post-form-submit-btn-container\">\r\n                    {\r\n                      !this.state.submitLoading ?\r\n                      <div onClick={this.submitEditPostRequest} className=\"edit-blog-post-form-btn\">\r\n                        <span>Submit</span>\r\n                      </div> :\r\n                      <div className=\"edit-blog-post-form-btn loading\">\r\n                        <span>Loading</span>\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                  <div onClick={this.showDeleteModalRequest} className=\"edit-blog-post-form-delete\">\r\n                    <span>Delete</span>\r\n                  </div>\r\n                </div>\r\n                {\r\n                  this.state.submitError ?\r\n                  <div className=\"edit-blog-post-submit-error-msg\">\r\n                    <span>{this.state.errorMsg}</span>\r\n                  </div> : null\r\n                }\r\n                {\r\n                  this.state.submitSuccess ?\r\n                  <div className=\"edit-blog-post-submit-success-msg\">\r\n                    <span>Success!</span>\r\n                  </div> : null\r\n                }\r\n              </div>\r\n            </div> :\r\n            <div className=\"edit-blog-post-get-data-error-msg\">\r\n              {\r\n                this.props.getDataError ?\r\n                <span>An error occurred.</span> :\r\n                <span>Blog post not found.</span>\r\n              }\r\n            </div>\r\n          }\r\n        </div>\r\n        <DeleteBlogPostModal\r\n          error={this.state.deleteError}\r\n          loading={this.state.deleteLoading}\r\n          show={this.state.showDeleteModal}\r\n          hideRequest={this.hideDeleteModalRequest}\r\n          deleteBlogPostRequest={this.deleteBlogPostRequest}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}